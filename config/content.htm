<<<<<<< HEAD
<h1>About</h1>
<p>w11</p>
<p>1a-ag1</p>
<p><span data-teams="true"><a aria-label="連結 https://s5.eng.nfu.edu.tw:9499/" class="fui-Link ___1q1shib f2hkw1w f3rmtva f1ewtqcl fyind8e f1k6fduh f1w7gpdv fk6fouc fjoy568 figsok6 f1s184ao f1mk8lai fnbmjn9 f1o700av f13mvf36 f1cmlufx f9n3di6 f1ids18y f1tx3yz7 f1deo86v f1eh06m1 f1iescvh fhgqx19 f1olyrje f1p93eir f1nev41a f1h8hb77 f1lqvz6u f10aw75t fsle3fq f17ae5zn" href="https://s5.eng.nfu.edu.tw:9499/" id="menur118" rel="noreferrer noopener" target="_blank" title="https://s5.eng.nfu.edu.tw:9499/">https://s5.eng.nfu.edu.tw:9499/</a><span></span><span> </span></span></p>
<p><span data-teams="true"><span>1+1=2</span></span></p>
<p><span data-teams="true"><span>2+2=4</span></span></p>
<p>可攜程式套件:</p>
<p style="padding-left: 30px;"><a href="http://229.cycu.org/portable_2026.7z">portable_2026.7z</a> (387MB)</p>
<p style="padding-left: 60px;">解開壓縮後，雙點擊 start_miniconda3.bat 啟動可攜系統，雙點擊 stop.bat 關閉可攜系統。</p>
<p style="padding-left: 60px;">可攜系統啟動後，在命令列執行 conda activate y:\envs\cmsimde 可進入能執行 CMSiMDE 的環境。</p>
<p style="padding-left: 60px;">若希望可攜系統啟動直接進入 cmsimde 環境，可將 start_miniconda3.bat 檔案中第 98 行: call "%CONDA_ROOT%\Scripts\activate.bat" %ENV_NAME% 更換為 call "%CONDA_ROOT%\Scripts\activate.bat" %Disk%:\envs\cmsimde</p>
<h1>Reeborg</h1>
<p><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1.py">https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1.py</a></p>
<p><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_east_west.py">https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_east_west.py</a> </p>
<hr/>
<p><a href="https://mde.tw/reeborg">https://mde.tw/reeborg</a></p>
<p><a href="https://github.com/mdecycu/cs101">https://github.com/mdecycu/cs101</a></p>
<p><a href="https://reeborg.ca/docs/en/python/index.html">https://reeborg.ca/docs/en/python/index.html</a></p>
<p><a href="https://aroberge.github.io/reeborg-api/">https://aroberge.github.io/reeborg-api/</a></p>
<p>if using local static port 9442:</p>
<p style="padding-left: 30px;"><a href="https://127.0.0.1:8442/reeborg/?lang=en&amp;mode=python&amp;menu=%2Freeborg%2Fworlds%2Fmenus%2Fselect_collection_en.json&amp;name=Alone&amp;url=%2Freeborg%2Fworlds%2Ftutorial_en%2Fharvest1.json&amp;editor=%2Freeborg%2Fpython%2Fharvest1.py">Reeborg</a></p>
<p>For Github Pages:</p>
<p style="padding-left: 30px;"><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=%2Freeborg%2Fworlds%2Fmenus%2Fselect_collection_en.json&amp;name=Alone&amp;url=%2Freeborg%2Fworlds%2Ftutorial_en%2Fharvest1.json&amp;editor=%2Freeborg%2Fpython%2Fharvest1.py">Reeborg</a></p>
=======
<h1><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">關於</span></span></h1>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">w11</span></span></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">1a-ag1</span></span></p>
<p><span data-teams="true"><a aria-label="連結 https://s5.eng.nfu.edu.tw:9499/" class="fui-Link ___1q1shib f2hkw1w f3rmtva f1ewtqcl fyind8e f1k6fduh f1w7gpdv fk6fouc fjoy568 figsok6 f1s184ao f1mk8lai fnbmjn9 f1o700av f13mvf36 f1cmlufx f9n3di6 f1ids18y f1tx3yz7 f1deo86v f1eh06m1 f1iescvh fhgqx19 f1olyrje f1p93eir f1nev41a f1h8hb77 f1lqvz6u f10aw75t fsle3fq f17ae5zn" href="https://s5.eng.nfu.edu.tw:9499/" id="menur118" rel="noreferrer noopener" target="_blank" title="https://s5.eng.nfu.edu.tw:9499/"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://s5.eng.nfu.edu.tw:9499/</span></span></a><span></span><span> </span></span></p>
<p><span data-teams="true"><span></span></span></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">遠端網站 7x7Lab(測試版)</span></span></p>
<p><span dir="auto" style="vertical-align: inherit;"><a href="https://mdecp2025.github.io/1a-ag1/">https://mdecp2025.github.io/1a-ag1/</a></span></p>
<<<<<<< HEAD
>>>>>>> c6fc41a (123)
=======
<p><span dir="auto" style="vertical-align: inherit;">1+1=2</span></p>
>>>>>>> 4d4b598 (1=1)
<p></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">可攜程序套件：</span></span></p>
<p style="padding-left: 30px;"><a href="http://229.cycu.org/portable_2026.7z"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">portable_2026.7z</span></span></a><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">  (387MB)</span></span></p>
<p style="padding-left: 60px;"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">解開壓縮後，雙點選start_miniconda3.bat啟動可攜系統，雙點選stop.bat關閉可攜系統。</span></span></p>
<p style="padding-left: 60px;"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">可攜系統啟動後，在指令列執行 conda activate y:\envs\cmsimde 可進入能執行 CMSiMDE 的環境。</span></span></p>
<p style="padding-left: 60px;"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">若希望可攜帶系統啟動直接進入 cmsimde 環境，可將 start_miniconda3.bat 檔案中第 98 行: call "%CONDA_ROOT%\Scripts\activate.bat" %ENV_NAME% 更換為 call "%CONDA_ROOT%\Scripts\activate.bat" activate.bat" %D%cmded.</span></span></p>
<h1><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">銳博</span></span></h1>
<p><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1.py</span></span></a></p>
<p><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_east_west.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_east_west.py1_east_west.py</span></span></a> </p>
<hr/>
<p><a href="https://mde.tw/reeborg"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://mde.tw/reeborg</span></span></a></p>
<p><a href="https://github.com/mdecycu/cs101"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://github.com/mdecycu/cs101</span></span></a></p>
<p><a href="https://reeborg.ca/docs/en/python/index.html"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://reeborg.ca/docs/en/python/index.html</span></span></a></p>
<p><a href="https://aroberge.github.io/reeborg-api/"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://aroberge.github.io/reeborg-api/</span></span></a></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">如果使用本機靜態連接埠 9442：</span></span></p>
<p style="padding-left: 30px;"><a href="https://127.0.0.1:8442/reeborg/?lang=en&amp;mode=python&amp;menu=%2Freeborg%2Fworlds%2Fmenus%2Fselect_collection_en.json&amp;name=Alone&amp;url=%2Freeborg%2Fworlds%2Ftutorial_en%2Fharvest1.json&amp;editor=%2Freeborg%2Fpython%2Fharvest1.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">銳博</span></span></a></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">對於 GitHub Pages：</span></span></p>
<p style="padding-left: 30px;"><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=%2Freeborg%2Fworlds%2Fmenus%2Fselect_collection_en.json&amp;name=Alone&amp;url=%2Freeborg%2Fworlds%2Ftutorial_en%2Fharvest1.json&amp;editor=%2Freeborg%2Fpython%2Fharvest1.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">銳博</span></span></a></p>
<p></p>
<h2><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">例1</span></span></h2>
<p><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=wor lds/tutorial_en/harvest1.json&amp;editor=python/harvest1.py</span></span></a><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;"> 是已知的機器人採收紅蘿蔔的方案，難民以下與副駕駛的對話，希望透過Python類的編寫解決方案特定範圍進行採收的方案。</span></span></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">答案:</span></span></p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">以下是 Reeborg 一個用來採收紅蘿蔔的方案，目前位於 (3,3) 到 (8,8) 的區域中各座標點，各有一個紅羅蔔等待採收，現在想要建立一個 Harves() 類，可以利用 (3,3), (8,8) 作為標定有燈光必須採標的兩個項目對角採標的兩個項目來收</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    for i in range(int):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        左轉（）</span></span><span></span>
        <span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
def new_move(int):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    for i in range(int):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        移動（）</span></span><span></span>
        <span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
def harvest_one_row():</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    while object_here():</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        拿（）</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    別的：</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        移動（）</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
# 移至場地</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
new_move(2)</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
左轉（）</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
new_move(2)</span></span><span></span>
<span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
for i in range(3):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    while is_facing_north():</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        for i in range(6):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
            收穫單行()</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        for i in range(2):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
            回合(3)</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
            移動（）</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    別的：</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        for i in range(6):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
            收穫單行()</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
        for i in range(2):</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
            左轉（）</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
            移動（）</span></span></pre>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">AI 答：  </span></span><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_class_ex1.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://mde.tw/cp2025/reeborg?lang =en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_class_ex1ial_en/harvest1.json&amp;editor=python/harvest1_class_ex1.pypy</span></span></a> </p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">進一步要求：</span></span></p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">請在類別中加上一個採收方向的參數，內建變數是水平採收，圓由西邊往東邊的水平方向進行採收，但若該方向變數設為垂直由南邊往北的稱垂直方向進行採收</span></span></pre>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">AI 回應：  </span></span><a href="https://mde.tw/cp2025/reeborg?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_class_ex2.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://mde.tw/cp2025/reeborg?lang  =en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest1.json&amp;editor=python/harvest1_class_ex2.py</span></span></a> </p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">延伸至採收 Harvest2 農地：  </span></span><a href="https://mde.tw/cp2025/reeborg/?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest2.json&amp;editor=python/harvest1_class_ex1.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">https://mde.tw/cp2025/reeborg/?lang =en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvestitor2.json&amp;edpyitor2.json&amp;edpython/py1.</span></span></a> </p>
<p>但卻沒能套用到 harvest3 農田: <a href="https://mde.tw/cp2025/reeborg/?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest3.json&amp;editor=python/harvest1_class_ex1.py">https://mde.tw/cp2025/reeborg/?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest3.json&amp;editor=python/harvest1_class_ex1.py</a> </p>
<p>而必須要在每一個座標點留下或放入一個紅蘿蔔: <a href="https://mde.tw/cp2025/reeborg/?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest3.json&amp;editor=python/harvest1_class_ex3.py">https://mde.tw/cp2025/reeborg/?lang=en&amp;mode=python&amp;menu=worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=worlds/tutorial_en/harvest3.json&amp;editor=python/harvest1_class_ex3.py </a> </p>
<h2>Otto_ninja</h2>
<p><a href="https://www.printables.com/model/231580-otto-ninja-starter-robot/files">https://www.printables.com/model/231580-otto-ninja-starter-robot/files</a> </p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/NDIwhuxQPN8?si=ED_FAObUkAVFT5L-" title="YouTube video player" width="560"></iframe></p>
<h1>Brython</h1>
<p><button id="add1to100">1 add to 100</button><button id="robot1">機器人巡邏</button><button id="free_walk">自由行</button></p>
<!-- 導入 brython 程式庫 -->
<p>
<script src="/static/brython.js"></script>
<script src="/static/brython_stdlib.js"></script>
</p>
<!-- 啟動 Brython -->
<p>
<script>
window.onload=function(){
brython({debug:1, pythonpath:['/static/','./../downloads/py/']});
}
</script>
</p>
<p><!-- 導入 FileSaver 與 filereader --></p>
<p>
<script src="/static/ace/FileSaver.min.js" type="text/javascript"></script>
<script src="/static/ace/filereader.js" type="text/javascript"></script>
</p>
<p><!-- 導入 ace --></p>
<p>
<script src="/static/ace/ace.js" type="text/javascript"></script>
<script src="/static/ace/ext-language_tools.js" type="text/javascript"></script>
<script src="/static/ace/mode-python3.js" type="text/javascript"></script>
<script src="/static/ace/snippets/python.js" type="text/javascript"></script>
</p>
<p><!-- 導入 gearUtils-0.9.js Cango 齒輪繪圖程式庫 -->
<script src="/static/Cango-24v03-min.js"></script>
<script src="/static/gearUtils-09.js"></script>
<script src="/static/SVGpathUtils-6v03-min.js"></script>
<script src="/static/sylvester.js"></script>
<script src="/static/PrairieDraw.js"></script>
</p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src1"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/javascript">
function doSave(storage_id, filename){
    var blob = new Blob([localStorage[storage_id]], {type: "text/plain;charset=utf-8"});
    filename = document.getElementById(filename).value
    saveAs(blob, filename+".py");
}
</script>
</p>
<p><!-- 累加程式開始 -->
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()
Ace1 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run1():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace1.editor.setValue(prog)
    Ace1.editor.scrollToRow(0)
    Ace1.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace1.run()
# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run1'].bind('click', Ace1.run)
doc['kw_show_console1'].bind('click', Ace1.show_console)
doc['kw_clear_console1'].bind('click', Ace1.clear_console)
doc['clear_bd1'].bind('click', clear_bd1)
# 呼叫函式執行
run1()
</script>
<!-- 累加程式結束 --> <!-- 機器人巡邏程式開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace2 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )

robot1_url = "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/b33c5fc2a0774f8c5d2b0e8c7c7908e58d73bb94/robot_1.py"

# 從 gist 取得程式碼
robot1_src = open(robot1_url).read()
def robot1(ev):
    Ace2.editor.setValue(robot1_src)
    Ace2.editor.scrollToRow(0)
    Ace2.editor.gotoLine(0)
    Ace2.run()

# id 為 "robot1" 的按鈕點按時, 執行 robot1 方法
doc["robot1"].bind('click', robot1)
</script>
<!-- 機器人巡邏程式結束 --></p>
<!-- 機器人自由行程式開始 -->
<p>
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace2 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )

free_walk_url = "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/9d55811467e411eb89f74171d8a586ae9f1a96aa/brython_robot_free_walk.py"

# 從 gist 取得程式碼
free_walk_src = open(free_walk_url).read()
def free_walk(ev):
    Ace2.editor.setValue(free_walk_src)
    Ace2.editor.scrollToRow(0)
    Ace2.editor.gotoLine(0)
    Ace2.run()

# id 為 "free_walk" 的按鈕點按時, 執行 robot1 方法
doc["free_walk"].bind('click', free_walk)
</script>
</p>
<!-- 機器人自由行程式結束 -->
<p><!-- add 1 to 100 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace2 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add(ev):
    Ace2.editor.setValue(add_src)
    Ace2.editor.scrollToRow(0)
    Ace2.editor.gotoLine(0)
    Ace2.run()

# id 為 "add1to100" 的按鈕點按時, 執行 add 方法
doc["add1to100"].bind('click', add)
</script>
</p>
<p><!-- add 1 to 100 結束--></p>
<!-- editor1 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor1" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename" placeholder="輸入檔名" type="text"/>.py</label> <input onclick="doSave('kw_py_src1', 'kw_filename1');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run1">Run</button> <button id="kw_show_console1">Output</button> <button id="kw_clear_console1">清除輸出區</button><button id="clear_bd1">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console1"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div1"></div>
<!-- editor1 結束 --><hr/><!-- ########################################## -->
<p>從 1 累加到 100 part2:</p>
<p><button id="add1to100part2">1 add to 100</button><button id="cango_three_gears">cango_three_gears</button><button id="bsnake">BSnake</button><button id="aitetris">AI Tetris</button></p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src2"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()
Ace3 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run2():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src2"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace3.editor.setValue(prog)
    Ace3.editor.scrollToRow(0)
    Ace3.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace3.run()

# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run2'].bind('click', Ace3.run)
doc['kw_show_console2'].bind('click', Ace3.show_console)
doc['kw_clear_console2'].bind('click', Ace3.clear_console)
doc['clear_bd2'].bind('click', clear_bd2)
# 呼叫函式執行
run2()
</script>
</p>
<p><!-- add 1 to 100 part2 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace4 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )

# 透過 Ace4 以類別建立一個通用的 button2, 可以在多個案例中將 gist 程導入編輯區

class button2:
    def __init__(self, url):
        self.url = url

    # 記得加入 event 輸入變數
    def do(self,ev):
        Ace4.editor.setValue(open(self.url).read())
        Ace4.editor.scrollToRow(0)
        Ace4.editor.gotoLine(0)
        Ace4.run()

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add2(ev):
    Ace4.editor.setValue(add_src)
    Ace4.editor.scrollToRow(0)
    Ace4.editor.gotoLine(0)
    Ace4.run()

# id 為 "add1to100part2" 的按鈕點按時, 執行 add 方法
doc["add1to100part2"].bind('click', add2)
# 以下為運用 button2 class 的通用 gist 程式導入區
################################## cango_three_gears start
cango_three_gears_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/cango_three_gears_brython_div2.py"
cango_three_gears = button2(cango_three_gears_url)
doc["cango_three_gears"].bind("click", cango_three_gears.do)
################################## cango_three_gears end
################################## bsnake start
bsnake_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/kmol_snakey.py"
bsnake = button2(bsnake_url)
doc["bsnake"].bind("click", bsnake.do)
################################## bsnake end
################################## aitetris start
aitetris_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/pygame_to_brython_tetris_ai.py"
aitetris = button2(aitetris_url)
doc["aitetris"].bind("click", aitetris.do)
################################## aitetris end
</script>
</p>
<p><!-- add 1 to 100 part2 結束--></p>
<!-- editor2 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor2" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename2" placeholder="輸入檔名" type="text"/>.py</label> <input onclick="doSave('kw_py_src2', 'kw_filename2');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run2">Run</button> <button id="kw_show_console2">Output</button> <button id="kw_clear_console2">清除輸出區</button><button id="clear_bd2">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console2"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div2"></div>
<!-- editor2 結束 --><hr/>
<p></p>
<h2>Brython_ex</h2>
<p><a href="https://mde.tw/cp2025/content/Brython.html?src=https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/9d55811467e411eb89f74171d8a586ae9f1a96aa/brython_robot_free_walk.py">機器人自由行</a></p>
<p>Can we bring pythonpad into this page? <a href="https://pythonpad.github.io/docs/manual.html">https://pythonpad.github.io/docs/manual.html</a> </p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">from browser import document, html, timer<span></span>
 <span></span>
canvas = html.CANVAS(width=400, height=400)<span></span>
brython_div = document["brython_div1"]<span></span>
brython_div &lt;= canvas<span></span>
ctx = canvas.getContext("2d")<span></span>
 <span></span>
def draw_grid():<span></span>
    ctx.clearRect(0, 0, 400, 400)<span></span>
    ctx.strokeStyle = "#ccc"<span></span>
    ctx.lineWidth = 1<span></span>
    for i in range(0, 401, 40):<span></span>
        ctx.beginPath()<span></span>
        ctx.moveTo(i, 0)<span></span>
        ctx.lineTo(i, 400)<span></span>
        ctx.stroke()<span></span>
        ctx.beginPath()<span></span>
        ctx.moveTo(0, i)<span></span>
        ctx.lineTo(400, i)<span></span>
        ctx.stroke()<span></span>
    <span></span>
    # 畫出邊界<span></span>
    ctx.strokeStyle = "black"<span></span>
    ctx.lineWidth = 2<span></span>
    ctx.strokeRect(0, 0, 400, 400)<span></span>
<span></span>
def draw_robot(x, y):<span></span>
    draw_grid()<span></span>
    ctx.fillStyle = "blue"<span></span>
    ctx.beginPath()<span></span>
    ctx.arc(x * 40 + 20, y * 40 + 20, 15, 0, 6.28)<span></span>
    ctx.fill()<span></span>
<span></span>
x, y = 0, 0<span></span>
def move():<span></span>
    global x<span></span>
    x = (x + 1) % 10<span></span>
    draw_robot(x, y)<span></span>
<span></span>
draw_grid()<span></span>
timer.set_interval(move, 500)</pre>
<p>以下程式, 按 j 隨箭頭方向前進, 按下 i 則左轉</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">from browser import document, html, bind<span></span>
<span></span>
canvas = html.CANVAS(width=400, height=400)<span></span>
brython_div = document["brython_div1"]<span></span>
brython_div &lt;= canvas<span></span>
ctx = canvas.getContext("2d")<span></span>
<span></span>
cols, rows = 10, 10<span></span>
cell = 40<span></span>
<span></span>
# 上、右、下、左<span></span>
directions = [(0, -1), (1, 0), (0, 1), (-1, 0)]<span></span>
<span></span>
robot = {<span></span>
    "x": 5,<span></span>
    "y": 5,<span></span>
    "dir": 0  # 初始朝向上<span></span>
}<span></span>
<span></span>
def draw_grid():<span></span>
    ctx.clearRect(0, 0, 400, 400)<span></span>
    ctx.strokeStyle = "#ccc"<span></span>
    ctx.lineWidth = 1<span></span>
    for i in range(0, 401, cell):<span></span>
        ctx.beginPath()<span></span>
        ctx.moveTo(i, 0)<span></span>
        ctx.lineTo(i, 400)<span></span>
        ctx.stroke()<span></span>
        ctx.beginPath()<span></span>
        ctx.moveTo(0, i)<span></span>
        ctx.lineTo(400, i)<span></span>
        ctx.stroke()<span></span>
    ctx.strokeStyle = "black"<span></span>
    ctx.lineWidth = 2<span></span>
    ctx.strokeRect(0, 0, 400, 400)<span></span>
<span></span>
def draw_robot():<span></span>
    draw_grid()<span></span>
    cx = robot["x"] * cell + cell // 2<span></span>
    cy = robot["y"] * cell + cell // 2<span></span>
    size = 15<span></span>
    d = robot["dir"]<span></span>
<span></span>
    ctx.fillStyle = "blue"<span></span>
    ctx.beginPath()<span></span>
    if d == 0:  # 上<span></span>
        ctx.moveTo(cx, cy - size)<span></span>
        ctx.lineTo(cx - size, cy + size)<span></span>
        ctx.lineTo(cx + size, cy + size)<span></span>
    elif d == 1:  # 右<span></span>
        ctx.moveTo(cx + size, cy)<span></span>
        ctx.lineTo(cx - size, cy - size)<span></span>
        ctx.lineTo(cx - size, cy + size)<span></span>
    elif d == 2:  # 下<span></span>
        ctx.moveTo(cx, cy + size)<span></span>
        ctx.lineTo(cx - size, cy - size)<span></span>
        ctx.lineTo(cx + size, cy - size)<span></span>
    elif d == 3:  # 左<span></span>
        ctx.moveTo(cx - size, cy)<span></span>
        ctx.lineTo(cx + size, cy - size)<span></span>
        ctx.lineTo(cx + size, cy + size)<span></span>
    ctx.closePath()<span></span>
    ctx.fill()<span></span>
<span></span>
@bind(document, "keydown")<span></span>
def on_key(e):<span></span>
    key = e.key.lower()<span></span>
    if key == "i":<span></span>
        robot["dir"] = (robot["dir"] - 1) % 4  # 左轉<span></span>
    elif key == "j":<span></span>
        dx, dy = directions[robot["dir"]]<span></span>
        nx = robot["x"] + dx<span></span>
        ny = robot["y"] + dy<span></span>
        if 0 &lt;= nx &lt; cols and 0 &lt;= ny &lt; rows:<span></span>
            robot["x"] = nx<span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
            robot["y"] = ny</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    繪製機器人()</span></span><span></span>
<span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
繪製機器人()</span></span></pre>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">最佳化:</span></span></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">題目：</span></span><br/><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">一位製造想設計一個開口式的盒子，其底部為長方形，寬為x、長為y，且總長度為80平方商分。請問要讓盒子的體積達到最大，又該採用哪些尺寸？</span></span></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">直接利用Python以</span></span><a href="https://en.wikipedia.org/wiki/Differential_evolution"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">Differential Evoluation</span></span></a><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">侵犯：  </span></span><a href="/downloads/de_volume_max.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">de_volume_max.py</span></span></a></p>
<p style="padding-left: 30px;"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">參考： </span></span></p>
<p style="padding-left: 60px;"><a href="/downloads/de_volume_max.c"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">de_volume_max.c</span></span></a><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">、  </span></span><a href="/downloads/de_volume_max.v"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">de_volume_max.v</span></span></a></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">也可以採用網頁前端使用 Brython，支架採用 Python 執行攻擊後將資料傳回網頁：  </span></span><a href="/downloads/brython_w_flask.7z"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">brython_w_flask.7z</span></span></a></p>
<h1><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">派奧迪德</span></span></h1>
<p>
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.4/full/pyodide.js"></script>
</p>
<p><button id="version"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">版本</span></span></button> <button id="hello_button"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">你好</span></span></button> <button id="add1to100"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">1 加到 100</span></span></button> <button id="robot1"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">機器人巡邏</span></span></button><button id="free_walk"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">自由行</span></span></button> <button id="numpy_ode"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">numpy_ode</span></span></button></p>
<!-- Ace Editor Scripts -->
<p>
<script src="/static/ace/FileSaver.min.js"></script>
<script src="/static/ace/filereader.js"></script>
<script src="/static/ace/ace.js"></script>
<script src="/static/ace/ext-language_tools.js"></script>
<script src="/static/ace/mode-python.js"></script>
<script src="/static/ace/snippets/python.js"></script>
</p>
<!-- Editor 1 -->
<div id="kw_editor1" style="width: 600px; height: 300px;"></div>
<p><button id="kw_run1"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">跑步</span></span></button> <button id="kw_output1"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">輸出</span></span></button> <button id="kw_clear_console1"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">明確輸出區</span></span></button> <button onclick="location.reload()"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">重新載入</span></span></button></p>
<p><textarea id="kw_console1"></textarea></p>
<div id="pyodide_div1"></div>
<div id="mpl_output1"></div>
<div id="brython_div1"></div>
<hr/>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">從1累加到100第2部分：</span></span></p>
<p><button id="add1to100part2"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">1 加到 100</span></span></button></p>
<!-- Editor 2 -->
<div id="kw_editor2" style="width: 600px; height: 300px;"></div>
<p><button id="kw_run2"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">跑步</span></span></button> <button id="kw_output2"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">輸出</span></span></button> <button id="kw_clear_console2"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">明確輸出區</span></span></button> <button onclick="location.reload()"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">重新載入</span></span></button></p>
<p><textarea id="kw_console2"></textarea></p>
<div id="pyodide_div2"></div>
<div id="mpl_output2"></div>
<div id="brython_div2"></div>
<p>
<script>
function getUrlParam(key) {
  return new URLSearchParams(window.location.search).get(key);
}
function updateUrlParam(key, value) {
  const url = new URL(window.location);
  url.searchParams.set(key, value);
  window.history.replaceState({}, "", url);
}

let pyodide, editor1, editor2;

document.addEventListener("DOMContentLoaded", async () => {
  editor1 = ace.edit("kw_editor1");
  editor1.setTheme("ace/theme/chrome");
  editor1.session.setMode("ace/mode/python");

  editor2 = ace.edit("kw_editor2");
  editor2.setTheme("ace/theme/chrome");
  editor2.session.setMode("ace/mode/python");

  pyodide = await loadPyodide();
  await pyodide.loadPackage(["numpy", "scipy", "matplotlib", "micropip"]);

  // 定義 hello() 模組
  const code = `
def hello():
    print("Hello from custom module!")
`;
  pyodide.runPython(code);

  const GIST_ADD1TO100 =
    "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/" +
    "c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py";
  const NUMPY_ODE =
    "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/" +
    "98d582539545b3c9fbfa35dd3e605c506367618e/pyodide_ode_ex1.py";
  const PYODIDE_ROBOT_ANIMATION =
    "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/" +
    "f3d75d08f2b90f4470342e91ee1e5c36b5f950bf/pyodide_robot_ex1.py";
  const FREE_WALK = 
    "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/" + "d1659628afe5d36a026ef305dc639f6be4c9f608/pyodide_robot_ex3.py"

  const src = getUrlParam("src");
  if (src === PYODIDE_ROBOT_ANIMATION) {
    const robotCode = await fetchCode(PYODIDE_ROBOT_ANIMATION);
    editor1.setValue(robotCode, -1);
    updateUrlParam("src", PYODIDE_ROBOT_ANIMATION);
    runPyodide(editor1, "kw_console1", "brython_div1");
  } else {
    const initialCode = await fetchCode(src || GIST_ADD1TO100);
    editor1.setValue(initialCode, -1);
    runPyodide(editor1, "kw_console1", "brython_div1");
  }

  editor2.setValue("", -1);

  document.getElementById("version").onclick = () => {
    const vcode = `
import pyodide
import sys
import matplotlib
import numpy
import scipy
print("Pyodide version:", pyodide.__version__)
print("Python version :", sys.version)
print("matplotlib version:", matplotlib.__version__)
print("numpy version:", numpy.__version__)
print("scipy version:", scipy.__version__)
`;
    editor1.setValue(vcode, -1);
    updateUrlParam("src", "inline_version");
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("hello_button").onclick = () => {
    editor1.setValue("hello()", -1);
    updateUrlParam("src", "inline_hello");
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("add1to100").onclick = async () => {
    const c = await fetchCode(GIST_ADD1TO100);
    editor1.setValue(c, -1);
    updateUrlParam("src", GIST_ADD1TO100);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("numpy_ode").onclick = async () => {
    const c = await fetchCode(NUMPY_ODE);
    editor1.setValue(c, -1);
    updateUrlParam("src", NUMPY_ODE);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("robot1").onclick = async () => {
    const rc = await fetchCode(PYODIDE_ROBOT_ANIMATION);
    editor1.setValue(rc, -1);
    updateUrlParam("src", PYODIDE_ROBOT_ANIMATION);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("free_walk").onclick = async () => {
    const rc = await fetchCode(FREE_WALK);
    editor1.setValue(rc, -1);
    updateUrlParam("src", FREE_WALK);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("add1to100part2").onclick = async () => {
    const c = await fetchCode(GIST_ADD1TO100);
    editor2.setValue(c, -1);
    runPyodide(editor2, "kw_console2", "brython_div2");
  };

  document.getElementById("kw_run1").onclick = () =>
    runPyodide(editor1, "kw_console1", "brython_div1");
  document.getElementById("kw_run2").onclick = () =>
    runPyodide(editor2, "kw_console2", "brython_div2");
  document.getElementById("kw_clear_console1").onclick = () =>
    clearOutput("kw_console1", "brython_div1");
  document.getElementById("kw_clear_console2").onclick = () =>
    clearOutput("kw_console2", "brython_div2");
});

// 處理兩個 Output 列數
  document.getElementById("kw_output1").onclick = () => {
    const ta = document.getElementById("kw_console1");
    ta.rows = "15";
    ta.cols = "70";
    ta.scrollTop = 0;
  };
  document.getElementById("kw_output2").onclick = () => {
    const ta = document.getElementById("kw_console2");
    ta.rows = "15";
    ta.cols = "70";
    ta.scrollTop = 0;
  };

async function fetchCode(url) {
  const r = await fetch(url);
  if (!r.ok) throw new Error(`載入失敗 ${r.status}`);
  return await r.text();
}

function clearOutput(consoleId, divId) {
  document.getElementById(consoleId).value = "";
  document.getElementById(divId).innerHTML = "";
}

async function runPyodide(editor, consoleId, divId) {
  document.getElementById(consoleId).value = "";
  document.getElementById(divId).innerHTML = "";

  await pyodide.runPythonAsync(`
import sys
class JsWriter:
  def write(self, s):
    from js import document
    ta = document.getElementById("${consoleId}")
    ta.value += s
    ta.scrollTop = ta.scrollHeight
sys.stdout = JsWriter()
sys.stderr = JsWriter()
`);

  try {
    await pyodide.runPythonAsync(editor.getValue());
  } catch (e) {
    document.getElementById(consoleId).value += "\n錯誤：" + e.toString();
  }
}
</script>
</p>
<h2><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">Pyodide_ex</span></span></h2>
<p><a href="https://mde.tw/cp2025/content/Pyodide.html?src=https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/f3d75d08f2b90f4470342e91ee1e5c36b5f950bf/pyodide_robot_ex1.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">Pyodide機器人巡邏</span></span></a></p>
<p><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">Pyodide導入客製化模組：</span></span></p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">const code = `</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
# 定義一個模組內容</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
def hello():</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
    print("來自自訂模組的問候！")</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
`;</span></span><span></span><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">
pyodide.runPython(code);</span></span><span></span>
</pre>
<p><a href="https://mde.tw/cp2025/content/Pyodide.html?src=https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/3ed6869dcd7312254513ca507de17945e15a9b6f/box_max_volume_short.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">Volume_max_pyodide_de_short.py</span></span></a></p>
<p><a href="https://mde.tw/cp2025/content/Pyodide.html?src=https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/3ed6869dcd7312254513ca507de17945e15a9b6f/box_volume_max_pyodide_de.py"><span dir="auto" style="vertical-align: inherit;"><span dir="auto" style="vertical-align: inherit;">Volume_max_pyodide_de.py</span></span></a></p>
<p></p>